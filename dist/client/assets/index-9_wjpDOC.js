import{ao as o,ap as u}from"./main-CxkuDHIA.js";function g(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(s){const l=s.trim();if(l.length===0)return null;const e=Array.from(new Set(l.split(/\s+/).map(r=>r.trim()).filter(Boolean)));if(e.length===0)return null;const t=e.map(g).join("|");return new RegExp(`(${t})`,"gi")}function p(s){let l=o();const e=typeof s=="string"?h(s):s;return e&&(l=l.use(a,e)),{highlight(t){if(!e)return[{type:"text",content:t}];const r=[];let n=0;for(const i of t.matchAll(e))n<i.index&&r.push({type:"text",content:t.substring(n,i.index)}),r.push({type:"text",content:i[0],styles:{highlight:!0}}),n=i.index+i[0].length;return n<t.length&&r.push({type:"text",content:t.substring(n)}),r},highlightMarkdown(t){return e?String(l.processSync(t).value):t}}}function a(s){return l=>{u(l,"text",e=>{let t="";const r=e.value;let n=0;for(const i of r.matchAll(s))n<i.index&&(t+=r.substring(n,i.index)),t+=`<mark>${i[0]}</mark>`,n=i.index+i[0].length;n<r.length&&(t+=r.substring(n)),e.type="html",e.value=t})}}export{p as c};
