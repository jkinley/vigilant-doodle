const o=new Map;async function w(i,{api:h="/api/search",locale:s,tag:t}){const r=new URL(h,window.location.origin);r.searchParams.set("query",i),s&&r.searchParams.set("locale",s),t&&r.searchParams.set("tag",Array.isArray(t)?t.join(","):t);const a=r.toString(),c=o.get(a);if(c)return c;const e=await fetch(r);if(!e.ok)throw new Error(await e.text());const n=await e.json();return o.set(a,n),n}export{w as fetchDocs};
