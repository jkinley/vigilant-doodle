import{c as a}from"./index-9_wjpDOC.js";import"./main-CxkuDHIA.js";function l(e){const r=[],n=new Set;for(const t of e)n.has(t.url)||(n.add(t.url),r.push({id:t.url,type:"page",breadcrumbs:t.breadcrumbs,url:t.url,content:t.title})),r.push({id:t.objectID,type:t.content===t.section?"heading":"text",url:t.section_id?`${t.url}#${t.section_id}`:t.url,content:t.content});return r}async function p(e,{indexName:r,onSearch:n,client:t,locale:o,tag:s}){if(e.trim().length===0)return[];const c=n?await n(e,s,o):await t.searchForHits({requests:[{type:"default",indexName:r,query:e,distinct:5,hitsPerPage:10,filters:s?`tag:${s}`:void 0}]}),u=a(e);return l(c.results[0].hits).flatMap(i=>i.type==="page"?{...i,content:u.highlightMarkdown(i.content)}:[])}export{p as searchDocs};
